library ieee;
use ieee.std_logic_1164.all;

entity MTran_Lab8_VHDL_RingCounter is
port
(
	-- Inputs
	CLK    : in std_logic;
	Reset  : in std_logic;
	
	-- Outputs
	Output : out std_logic_vector (3 downto 0)
	
);

architecture RTL of MTran_Lab8_VHDL_RingCounter is
-- Signal Declaration
signal state: integer := 0;

-- Procedure
procedure Increment (signal Counter: integer) is
begin
	if Counter < 3 then
		Counter <= Counter + 1;
	else 
		Counter <= 0;
	end if;
end procedure;
							

-- Main code
begin
	
	-- Process
	process(CLK,Reset)
	begin
		if Reset = '1' then
			state <= 0;
		else 
			if rising_edge(CLK) then
				Increment(State);
			end if;
		end if;
	end process;
	
	process(state)
	begin
		case(state)
		when 0 		=> Output <= "1000";
		when 1 		=> Output <= "0100";
		when 2 		=> Output <= "0010";
		when 3 		=> Output <= "0001";
		when others => Output <= "0000";
	end process;

end RTL;